One Week ago


{"version":"1.1.0","events":[{"name":"User Action","component":"Report Canvas","start":"2025-07-05T10:55:18.865Z","id":"073e9b6e350194a690c9","metrics":{"sourceLabel":"UserAction_Refresh"}},



{"name":"Visual Container Lifecycle","start":"2025-07-05T10:55:18.875Z","end":"2025-07-05T10:55:19.099Z","id":"d3dd8a2544c0bc92cea8-8036141abb14008d5bab","metrics":{"status":1,"visualTitle":"Sum of Discount_Fee by Year","visualId":"d3dd8a2544c0bc92cea8","visualType":"donutChart","initialLoad":false}},{"name":"Resolve Parameters","start":"2025-07-05T10:55:18.876Z","end":"2025-07-05T10:55:18.917Z","id":"7094ce9b-1dae-44bf-a4c3-ea5bd37d0eff","parentId":"d3dd8a2544c0bc92cea8-8036141abb14008d5bab"},{"name":"Query","start":"2025-07-05T10:55:18.917Z","end":"2025-07-05T10:55:19.064Z","id":"b919ecb4-7fee-4a9a-805a-17297b1e8233","parentId":"d3dd8a2544c0bc92cea8-8036141abb14008d5bab"},{"name":"Render","start":"2025-07-05T10:55:19.063Z","end":"2025-07-05T10:55:19.099Z","id":"d05a702e-e64e-4cd2-af6a-5fe90940d447","parentId":"d3dd8a2544c0bc92cea8-8036141abb14008d5bab"},{"name":"Data View Transform","start":"2025-07-05T10:55:19.077Z","end":"2025-07-05T10:55:19.078Z","id":"99cc67ae-6947-4dcd-8530-706d0317cb6c","parentId":"d05a702e-e64e-4cd2-af6a-5fe90940d447"},{"name":"Visual Update Async","start":"2025-07-05T10:55:19.078Z","end":"2025-07-05T10:55:19.099Z","id":"5fbdc2f6-f152-49fc-9e02-3a2514d2df0d","parentId":"d05a702e-e64e-4cd2-af6a-5fe90940d447"},{"name":"Visual Update","start":"2025-07-05T10:55:19.079Z","end":"2025-07-05T10:55:19.079Z","id":"c79261e8-a03c-4737-b46f-eacbc4912e3e","parentId":"d05a702e-e64e-4cd2-af6a-5fe90940d447"},{"name":"Execute Semantic Query","component":"DSE","start":"2025-07-05T10:55:19.026Z","end":"2025-07-05T10:55:19.039Z","id":"ed8488f4-45f4-4e11-8a95-e3e894f2bee6","parentId":"b919ecb4-7fee-4a9a-805a-17297b1e8233"},{"name":"Query Generation","start":"2025-07-05T10:55:18.930Z","end":"2025-07-05T10:55:18.932Z","id":"61f510e3-7fda-449a-bd79-ee9c5ac6d2a2","parentId":"b919ecb4-7fee-4a9a-805a-17297b1e8233"},{"name":"Query Pending","start":"2025-07-05T10:55:19.022Z","end":"2025-07-05T10:55:19.025Z","id":"e7344991-b198-45e5-b992-15c40551728d","parentId":"b919ecb4-7fee-4a9a-805a-17297b1e8233"},{"name":"Parse Query Result","start":"2025-07-05T10:55:19.059Z","end":"2025-07-05T10:55:19.060Z","id":"69922f1d-a7fb-473d-a830-b0167643cd44","parentId":"b919ecb4-7fee-4a9a-805a-17297b1e8233"},{"name":"Execute DAX Query","component":"DSE","start":"2025-07-05T10:55:19.028Z","end":"2025-07-05T10:55:19.039Z","id":"63ae93b1-ac86-4cd9-a5cc-966122ba97b2","parentId":"ed8488f4-45f4-4e11-8a95-e3e894f2bee6","metrics":{"QueryText":"DEFINE\r\n\tVAR __DS0FilterTable = \r\n\t\tFILTER(KEEPFILTERS(VALUES('Peryear'[Peryear])), 'Peryear'[Peryear] = 2017)\r\n\r\n\tVAR __DS0Core = \r\n\t\tSUMMARIZECOLUMNS(\r\n\t\t\t'DimDate'[Year],\r\n\t\t\t__DS0FilterTable,\r\n\t\t\t\"SumDiscount_Fee\", CALCULATE(SUM('FactPayments'[Discount_Fee]))\r\n\t\t)\r\n\r\n\tVAR __DS0BodyLimited = \r\n\t\tTOPN(1002, __DS0Core, [SumDiscount_Fee], 0, 'DimDate'[Year], 1)\r\n\r\nEVALUATE\r\n\t__DS0BodyLimited\r\n\r\nORDER BY\r\n\t[SumDiscount_Fee] DESC, 'DimDate'[Year]","RowCount":4}},{"name":"Execute Query","component":"AS","start":"2025-07-05T10:55:19.037Z","end":"2025-07-05T10:55:19.040Z","id":"AED81BEE-CB21-4317-81D4-133F6541293B","parentId":"63ae93b1-ac86-4cd9-a5cc-966122ba97b2"},{"name":"Serialize Rowset","component":"AS","start":"2025-07-05T10:55:19.040Z","end":"2025-07-05T10:55:19.040Z","id":"942918B9-BF90-4920-A5A0-EA09698B6496","parentId":"AED81BEE-CB21-4317-81D4-133F6541293B"},{"name":"Visual Container Lifecycle","start":"2025-07-05T10:55:18.878Z","end":"2025-07-05T10:55:19.100Z","id":"7deddf6047202e922bbd-d0c108cb2626a3970e06","metrics":{"status":1,"visualTitle":"Sum of Discount_Fee by Year","visualId":"7deddf6047202e922bbd","visualType":"funnel","initialLoad":false}},{"name":"Resolve Parameters","start":"2025-07-05T10:55:18.880Z","end":"2025-07-05T10:55:18.918Z","id":"d980e5a5-bcb8-4981-8650-88ce95274ba5","parentId":"7deddf6047202e922bbd-d0c108cb2626a3970e06"},{"name":"Query","start":"2025-07-05T10:55:18.918Z","end":"2025-07-05T10:55:19.063Z","id":"c5999007-52c0-411b-a759-4e779597c8f6","parentId":"7deddf6047202e922bbd-d0c108cb2626a3970e06"},{"name":"Render","start":"2025-07-05T10:55:19.062Z","end":"2025-07-05T10:55:19.100Z","id":"e11c4b2f-2e99-4093-bf47-a98f0ca8a85f","parentId":"7deddf6047202e922bbd-d0c108cb2626a3970e06"},{"name":"Data View Transform","start":"2025-07-05T10:55:19.079Z","end":"2025-07-05T10:55:19.080Z","id":"fbb3315a-19fa-46e1-90b9-1e53c1d7e15d","parentId":"e11c4b2f-2e99-4093-bf47-a98f0ca8a85f"},{"name":"Visual Update Async","start":"2025-07-05T10:55:19.080Z","end":"2025-07-05T10:55:19.099Z","id":"34828374-0c28-41df-b024-cf0056aaea3d","parentId":"e11c4b2f-2e99-4093-bf47-a98f0ca8a85f"},{"name":"Visual Update","start":"2025-07-05T10:55:19.080Z","end":"2025-07-05T10:55:19.080Z","id":"00a6fff5-1bb3-4398-bd48-7a25f0800126","parentId":"e11c4b2f-2e99-4093-bf47-a98f0ca8a85f"},{"name":"Execute Semantic Query","component":"DSE","start":"2025-07-05T10:55:19.026Z","end":"2025-07-05T10:55:19.039Z","id":"ed8488f4-45f4-4e11-8a95-e3e894f2bee6","parentId":"c5999007-52c0-411b-a759-4e779597c8f6"},{"name":"Query Generation","start":"2025-07-05T10:55:18.933Z","end":"2025-07-05T10:55:18.934Z","id":"51e29b47-5ea7-4a4f-b3f8-9a5d933c007f","parentId":"c5999007-52c0-411b-a759-4e779597c8f6"},{"name":"Parse Query Result","start":"2025-07-05T10:55:19.060Z","end":"2025-07-05T10:55:19.061Z","id":"f468803d-4b30-4d6f-95da-aacea1295a7c","parentId":"c5999007-52c0-411b-a759-4e779597c8f6"},{"name":"Execute DAX Query","component":"DSE","start":"2025-07-05T10:55:19.028Z","end":"2025-07-05T10:55:19.039Z","id":"63ae93b1-ac86-4cd9-a5cc-966122ba97b2","parentId":"ed8488f4-45f4-4e11-8a95-e3e894f2bee6","metrics":{"QueryText":"DEFINE\r\n\tVAR __DS0FilterTable = \r\n\t\tFILTER(KEEPFILTERS(VALUES('Peryear'[Peryear])), 'Peryear'[Peryear] = 2017)\r\n\r\n\tVAR __DS0Core = \r\n\t\tSUMMARIZECOLUMNS(\r\n\t\t\t'DimDate'[Year],\r\n\t\t\t__DS0FilterTable,\r\n\t\t\t\"SumDiscount_Fee\", CALCULATE(SUM('FactPayments'[Discount_Fee]))\r\n\t\t)\r\n\r\n\tVAR __DS0BodyLimited = \r\n\t\tTOPN(1002, __DS0Core, [SumDiscount_Fee], 0, 'DimDate'[Year], 1)\r\n\r\nEVALUATE\r\n\t__DS0BodyLimited\r\n\r\nORDER BY\r\n\t[SumDiscount_Fee] DESC, 'DimDate'[Year]","RowCount":4}},{"name":"Execute Query","component":"AS","start":"2025-07-05T10:55:19.037Z","end":"2025-07-05T10:55:19.040Z","id":"AED81BEE-CB21-4317-81D4-133F6541293B","parentId":"63ae93b1-ac86-4cd9-a5cc-966122ba97b2"},{"name":"Serialize Rowset","component":"AS","start":"2025-07-05T10:55:19.040Z","end":"2025-07-05T10:55:19.040Z","id":"942918B9-BF90-4920-A5A0-EA09698B6496","parentId":"AED81BEE-CB21-4317-81D4-133F6541293B"},{"name":"Visual Container Lifecycle","start":"2025-07-05T10:55:18.882Z","end":"2025-07-05T10:55:19.439Z","id":"dbd2b074a03180e9b098-9b8979a84b7882501100","metrics":{"status":1,"visualTitle":"Sum of Net Payment Flow by Month and Year","visualId":"dbd2b074a03180e9b098","visualType":"waterfallChart","initialLoad":false}},{"name":"Resolve Parameters","start":"2025-07-05T10:55:18.883Z","end":"2025-07-05T10:55:18.918Z","id":"50cc159a-0c38-415b-b4b4-c1847ed5dfaf","parentId":"dbd2b074a03180e9b098-9b8979a84b7882501100"},{"name":"Query","start":"2025-07-05T10:55:18.918Z","end":"2025-07-05T10:55:19.351Z","id":"99da0990-3a01-4c99-9013-905adfe454c3","parentId":"dbd2b074a03180e9b098-9b8979a84b7882501100"},{"name":"Render","start":"2025-07-05T10:55:19.350Z","end":"2025-07-05T10:55:19.439Z","id":"e9f2d47b-f41e-44a6-ad18-6dbe3edad779","parentId":"dbd2b074a03180e9b098-9b8979a84b7882501100"},{"name":"Data View Transform","start":"2025-07-05T10:55:19.375Z","end":"2025-07-05T10:55:19.376Z","id":"c8feb07f-8856-4967-abba-f517e0e38d5d","parentId":"e9f2d47b-f41e-44a6-ad18-6dbe3edad779"},{"name":"Visual Update Async","start":"2025-07-05T10:55:19.376Z","end":"2025-07-05T10:55:19.438Z","id":"ede23f47-1c92-4414-9d7f-5e882db5877b","parentId":"e9f2d47b-f41e-44a6-ad18-6dbe3edad779"},{"name":"Visual Update","start":"2025-07-05T10:55:19.376Z","end":"2025-07-05T10:55:19.376Z","id":"845ac5df-782c-4e79-994a-80b48157b378","parentId":"e9f2d47b-f41e-44a6-ad18-6dbe3edad779"},{"name":"Execute Semantic Query","component":"DSE","start":"2025-07-05T10:55:19.046Z","end":"2025-07-05T10:55:19.073Z","id":"86985a57-5d5e-4d31-997b-0f4bd150c886","parentId":"99da0990-3a01-4c99-9013-905adfe454c3"},{"name":"Query Generation","start":"2025-07-05T10:55:18.935Z","end":"2025-07-05T10:55:18.936Z","id":"ce143269-7fbf-4e58-b4ae-c27aa703da07","parentId":"99da0990-3a01-4c99-9013-905adfe454c3"},{"name":"Query Pending","start":"2025-07-05T10:55:19.023Z","end":"2025-07-05T10:55:19.025Z","id":"bf768e11-67e2-4f45-bb6e-9acebb243e42","parentId":"99da0990-3a01-4c99-9013-905adfe454c3"},{"name":"Parse Query Result","start":"2025-07-05T10:55:19.349Z","end":"2025-07-05T10:55:19.350Z","id":"5fd87d92-aa61-42cf-9382-0b02006fd39c","parentId":"99da0990-3a01-4c99-9013-905adfe454c3"},{"name":"Execute DAX Query","component":"DSE","start":"2025-07-05T10:55:19.056Z","end":"2025-07-05T10:55:19.071Z","id":"fc3b997c-13eb-4db0-90e6-8f4f8136189d","parentId":"86985a57-5d5e-4d31-997b-0f4bd150c886","metrics":{"QueryText":"DEFINE\r\n\tVAR __DS0FilterTable = \r\n\t\tFILTER(KEEPFILTERS(VALUES('Peryear'[Peryear])), 'Peryear'[Peryear] = 2017)\r\n\r\n\tVAR __DS0Core = \r\n\t\tSUMMARIZECOLUMNS(\r\n\t\t\t'LocalDateTable_e58dc4d0-0a03-4dc1-aa9c-5a36d3258b1f'[Month],\r\n\t\t\t'LocalDateTable_e58dc4d0-0a03-4dc1-aa9c-5a36d3258b1f'[MonthNo],\r\n\t\t\tROLLUPADDISSUBTOTAL('Paymentflow'[Year], \"IsGrandTotalColumnTotal\"),\r\n\t\t\t__DS0FilterTable,\r\n\t\t\t\"SumNet_Payment_Flow\", CALCULATE(SUM('Paymentflow'[Net Payment Flow]))\r\n\t\t)\r\n\r\n\tVAR __DS0PrimaryWindowed = \r\n\t\tTOPN(\r\n\t\t\t31,\r\n\t\t\tSUMMARIZE(\r\n\t\t\t\t__DS0Core,\r\n\t\t\t\t'LocalDateTable_e58dc4d0-0a03-4dc1-aa9c-5a36d3258b1f'[Month],\r\n\t\t\t\t'LocalDateTable_e58dc4d0-0a03-4dc1-aa9c-5a36d3258b1f'[MonthNo]\r\n\t\t\t),\r\n\t\t\t'LocalDateTable_e58dc4d0-0a03-4dc1-aa9c-5a36d3258b1f'[MonthNo],\r\n\t\t\t1,\r\n\t\t\t'LocalDateTable_e58dc4d0-0a03-4dc1-aa9c-5a36d3258b1f'[Month],\r\n\t\t\t1\r\n\t\t)\r\n\r\n\tVAR __DS0SecondaryBase = \r\n\t\tSUMMARIZE(__DS0Core, 'Paymentflow'[Year], [IsGrandTotalColumnTotal])\r\n\r\n\tVAR __DS0Secondary = \r\n\t\tTOPN(202, __DS0SecondaryBase, [IsGrandTotalColumnTotal], 0, 'Paymentflow'[Year], 1)\r\n\r\n\tVAR __DS0BodyLimited = \r\n\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t__DS0PrimaryWindowed,\r\n\t\t\tSUBSTITUTEWITHINDEX(\r\n\t\t\t\t__DS0Core,\r\n\t\t\t\t\"ColumnIndex\",\r\n\t\t\t\t__DS0Secondary,\r\n\t\t\t\t[IsGrandTotalColumnTotal],\r\n\t\t\t\tDESC,\r\n\t\t\t\t'Paymentflow'[Year],\r\n\t\t\t\tASC\r\n\t\t\t)\r\n\t\t)\r\n\r\nEVALUATE\r\n\t__DS0Secondary\r\n\r\nORDER BY\r\n\t[IsGrandTotalColumnTotal] DESC, 'Paymentflow'[Year]\r\n\r\nEVALUATE\r\n\t__DS0BodyLimited\r\n\r\nORDER BY\r\n\t'LocalDateTable_e58dc4d0-0a03-4dc1-aa9c-5a36d3258b1f'[MonthNo],\r\n\t'LocalDateTable_e58dc4d0-0a03-4dc1-aa9c-5a36d3258b1f'[Month],\r\n\t[ColumnIndex]","RowCount":54}},{"name":"Execute Query","component":"AS","start":"2025-07-05T10:55:19.063Z","end":"2025-07-05T10:55:19.070Z","id":"F0D0AAC0-0103-4821-AB8F-8739612F620E","parentId":"fc3b997c-13eb-4db0-90e6-8f4f8136189d"},{"name":"Serialize Rowset","component":"AS","start":"2025-07-05T10:55:19.070Z","end":"2025-07-05T10:55:19.070Z","id":"D1A868AB-2C9D-403C-A031-6669E8DEABB4","parentId":"F0D0AAC0-0103-4821-AB8F-8739612F620E"},{"name":"Visual Container Lifecycle","start":"2025-07-05T10:55:18.884Z","end":"2025-07-05T10:55:19.273Z","id":"1e53fc0d8a6a28e61410-02e50498e11b6be95847","metrics":{"status":1,"visualTitle":"Sum of Actual_Fee by Year","visualId":"1e53fc0d8a6a28e61410","visualType":"barChart","initialLoad":false}},{"name":"Resolve Parameters","start":"2025-07-05T10:55:18.885Z","end":"2025-07-05T10:55:18.919Z","id":"c70a80a4-a3cc-4cd3-a2c8-0b557cd45475","parentId":"1e53fc0d8a6a28e61410-02e50498e11b6be95847"},{"name":"Query","start":"2025-07-05T10:55:18.919Z","end":"2025-07-05T10:55:19.137Z","id":"960fead7-f17a-4b2a-8433-49e6ccc70636","parentId":"1e53fc0d8a6a28e61410-02e50498e11b6be95847"},{"name":"Render","start":"2025-07-05T10:55:19.137Z","end":"2025-07-05T10:55:19.273Z","id":"e641893c-2217-4c17-b0ae-858d6638f629","parentId":"1e53fc0d8a6a28e61410-02e50498e11b6be95847"},{"name":"Data View Transform","start":"2025-07-05T10:55:19.170Z","end":"2025-07-05T10:55:19.172Z","id":"0f12747b-d495-438f-939e-1b07f9e5e706","parentId":"e641893c-2217-4c17-b0ae-858d6638f629"},{"name":"Visual Update Async","start":"2025-07-05T10:55:19.173Z","end":"2025-07-05T10:55:19.273Z","id":"31455cb3-9e31-42ce-80e0-42c306fbbbdf","parentId":"e641893c-2217-4c17-b0ae-858d6638f629"},{"name":"Visual Update","start":"2025-07-05T10:55:19.173Z","end":"2025-07-05T10:55:19.173Z","id":"f73421a6-66a2-43ad-9d60-b4f89dbbc65b","parentId":"e641893c-2217-4c17-b0ae-858d6638f629"},{"name":"Execute Semantic Query","component":"DSE","start":"2025-07-05T10:55:19.030Z","end":"2025-07-05T10:55:19.048Z","id":"922296be-9d34-4046-b76d-919a6d03485b","parentId":"960fead7-f17a-4b2a-8433-49e6ccc70636"},{"name":"Query Generation","start":"2025-07-05T10:55:18.937Z","end":"2025-07-05T10:55:18.938Z","id":"a7ba5209-0b8c-4dfc-8b0b-3bf34a48a7e0","parentId":"960fead7-f17a-4b2a-8433-49e6ccc70636"},{"name":"Query Pending","start":"2025-07-05T10:55:19.023Z","end":"2025-07-05T10:55:19.025Z","id":"df1a8030-f0a4-4e24-b488-ff7a961371cc","parentId":"960fead7-f17a-4b2a-8433-49e6ccc70636"},{"name":"Parse Query Result","start":"2025-07-05T10:55:19.136Z","end":"2025-07-05T10:55:19.137Z","id":"02a9b623-e805-4bcd-9ef3-fbd4eebe5bd3","parentId":"960fead7-f17a-4b2a-8433-49e6ccc70636"},{"name":"Execute DAX Query","component":"DSE","start":"2025-07-05T10:55:19.034Z","end":"2025-07-05T10:55:19.046Z","id":"a35118aa-ebf1-416b-8982-b5eb7f80bba2","parentId":"922296be-9d34-4046-b76d-919a6d03485b","metrics":{"QueryText":"DEFINE\r\n\tVAR __DS0FilterTable = \r\n\t\tFILTER(KEEPFILTERS(VALUES('Peryear'[Peryear])), 'Peryear'[Peryear] = 2017)\r\n\r\n\tVAR __DS0Core = \r\n\t\tSUMMARIZECOLUMNS(\r\n\t\t\t'DimDate'[Year],\r\n\t\t\t__DS0FilterTable,\r\n\t\t\t\"SumActual_Fee\", CALCULATE(SUM('FactPayments'[Actual_Fee]))\r\n\t\t)\r\n\r\n\tVAR __DS0BodyLimited = \r\n\t\tSAMPLE(3502, __DS0Core, 'DimDate'[Year], 1)\r\n\r\nEVALUATE\r\n\t__DS0BodyLimited\r\n\r\nORDER BY\r\n\t'DimDate'[Year]","RowCount":4}},{"name":"Execute Query","component":"AS","start":"2025-07-05T10:55:19.040Z","end":"2025-07-05T10:55:19.047Z","id":"4FF4CB8B-9517-4636-A347-7412C23A891C","parentId":"a35118aa-ebf1-416b-8982-b5eb7f80bba2"},{"name":"Serialize Rowset","component":"AS","start":"2025-07-05T10:55:19.047Z","end":"2025-07-05T10:55:19.047Z","id":"02DF0744-93BE-42A1-90B7-6F15BEEDB7BD","parentId":"4FF4CB8B-9517-4636-A347-7412C23A891C"},{"name":"Visual Container Lifecycle","start":"2025-07-05T10:55:18.887Z","end":"2025-07-05T10:55:19.275Z","id":"685448a491ed23c4b0a0-a6b69268059b2da7ca63","metrics":{"status":1,"visualTitle":"Sum of Discount_Fee by Year and LocID","visualId":"685448a491ed23c4b0a0","visualType":"hundredPercentStackedAreaChart","initialLoad":false}},{"name":"Resolve Parameters","start":"2025-07-05T10:55:18.888Z","end":"2025-07-05T10:55:18.919Z","id":"405ff0a4-b3c0-4ea1-86f3-fe294cde3e89","parentId":"685448a491ed23c4b0a0-a6b69268059b2da7ca63"},{"name":"Query","start":"2025-07-05T10:55:18.919Z","end":"2025-07-05T10:55:19.155Z","id":"bb3ae563-a13d-4a72-87f1-373a156c3f73","parentId":"685448a491ed23c4b0a0-a6b69268059b2da7ca63"},{"name":"Render","start":"2025-07-05T10:55:19.155Z","end":"2025-07-05T10:55:19.274Z","id":"b74365e4-6e04-49a6-a5ab-86981a45796e","parentId":"685448a491ed23c4b0a0-a6b69268059b2da7ca63"},{"name":"Data View Transform","start":"2025-07-05T10:55:19.174Z","end":"2025-07-05T10:55:19.176Z","id":"ff9912fb-5c14-4f2a-a057-a075f82edab7","parentId":"b74365e4-6e04-49a6-a5ab-86981a45796e"},{"name":"Visual Update Async","start":"2025-07-05T10:55:19.176Z","end":"2025-07-05T10:55:19.273Z","id":"c4744606-4093-496c-b9c1-62f2a8f4d804","parentId":"b74365e4-6e04-49a6-a5ab-86981a45796e"},{"name":"Visual Update","start":"2025-07-05T10:55:19.176Z","end":"2025-07-05T10:55:19.176Z","id":"08c0fcc3-9dec-4a56-ac4c-6ea30dfbe441","parentId":"b74365e4-6e04-49a6-a5ab-86981a45796e"},{"name":"Execute Semantic Query","component":"DSE","start":"2025-07-05T10:55:19.026Z","end":"2025-07-05T10:55:19.059Z","id":"aa916137-12f8-4f3d-8099-0b5df19b30b9","parentId":"bb3ae563-a13d-4a72-87f1-373a156c3f73"},{"name":"Query Generation","start":"2025-07-05T10:55:18.939Z","end":"2025-07-05T10:55:18.941Z","id":"87a1e2a5-6c46-48b7-9e4c-56f554d39fb4","parentId":"bb3ae563-a13d-4a72-87f1-373a156c3f73"},{"name":"Query Pending","start":"2025-07-05T10:55:19.023Z","end":"2025-07-05T10:55:19.025Z","id":"2306982e-be25-4b77-9109-77e895a47b6f","parentId":"bb3ae563-a13d-4a72-87f1-373a156c3f73"},{"name":"Parse Query Result","start":"2025-07-05T10:55:19.154Z","end":"2025-07-05T10:55:19.154Z","id":"06f7ddaf-e052-4c7b-939e-699e4a2090b1","parentId":"bb3ae563-a13d-4a72-87f1-373a156c3f73"},{"name":"Execute DAX Query","component":"DSE","start":"2025-07-05T10:55:19.030Z","end":"2025-07-05T10:55:19.056Z","id":"bfc2af93-beb6-4067-879d-a1eab84d0a6a","parentId":"aa916137-12f8-4f3d-8099-0b5df19b30b9","metrics":{"QueryText":"DEFINE\r\n\tVAR __DS0FilterTable = \r\n\t\tFILTER(KEEPFILTERS(VALUES('Peryear'[Peryear])), 'Peryear'[Peryear] = 2017)\r\n\r\n\tVAR __DS0Core = \r\n\t\tSUMMARIZECOLUMNS(\r\n\t\t\t'DimDate'[Year],\r\n\t\t\t'DimLocation'[LocID],\r\n\t\t\t__DS0FilterTable,\r\n\t\t\t\"SumDiscount_Fee\", CALCULATE(SUM('FactPayments'[Discount_Fee]))\r\n\t\t)\r\n\r\n\tVAR __DS0PrimaryBase = \r\n\t\tSUMMARIZE(__DS0Core, 'DimDate'[Year])\r\n\r\n\tVAR __DS0SecondaryBase = \r\n\t\tSUMMARIZE(__DS0Core, 'DimLocation'[LocID])\r\n\r\n\tVAR __DS0IntersectionCount = CALCULATE(COUNTROWS(__DS0Core))\r\n\r\n\tVAR __DS0PrimaryCount = CALCULATE(COUNTROWS(__DS0PrimaryBase))\r\n\r\n\tVAR __DS0SecondaryCount = CALCULATE(COUNTROWS(__DS0SecondaryBase))\r\n\r\n\tVAR __DS0SpaceCount = (__DS0PrimaryCount * __DS0SecondaryCount)\r\n\r\n\tVAR __DS0SparseFactor = MIN(5, DIVIDE(__DS0SpaceCount, __DS0IntersectionCount))\r\n\r\n\tVAR __DS0TargetIntersectionCount = CEILING(3500 * __DS0SparseFactor, 1)\r\n\r\n\tVAR __DS0InitTargetPrimaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0IntersectionCount <= 3500,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0SpaceCount <= __DS0TargetIntersectionCount,\r\n\t\t\t\t3500,\r\n\t\t\t\tFLOOR(\r\n\t\t\t\t\tSQRT(__DS0TargetIntersectionCount * DIVIDE(__DS0PrimaryCount, __DS0SecondaryCount)),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tIF(\r\n\t\t\t\tAND(__DS0PrimaryCount > 800, __DS0SecondaryCount > 60),\r\n\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, 60), 1),\r\n\t\t\t\tIF(\r\n\t\t\t\t\t__DS0SecondaryCount > 60,\r\n\t\t\t\t\t__DS0PrimaryCount,\r\n\t\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0SecondaryCount), 1)\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0InitTargetSecondaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0IntersectionCount <= 3500,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0SpaceCount <= __DS0TargetIntersectionCount,\r\n\t\t\t\t3500,\r\n\t\t\t\tFLOOR(\r\n\t\t\t\t\tDIVIDE(__DS0TargetIntersectionCount, FLOOR(\r\n\t\t\t\t\t\tSQRT(__DS0TargetIntersectionCount * DIVIDE(__DS0PrimaryCount, __DS0SecondaryCount)),\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t)),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tIF(\r\n\t\t\t\tAND(__DS0PrimaryCount > 800, __DS0SecondaryCount > 60),\r\n\t\t\t\t60,\r\n\t\t\t\tIF(\r\n\t\t\t\t\t__DS0SecondaryCount > 60,\r\n\t\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0PrimaryCount), 1),\r\n\t\t\t\t\t__DS0SecondaryCount\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0MinPrimaryCount = MIN(10, __DS0PrimaryCount)\r\n\r\n\tVAR __DS0MinSecondaryCount = MIN(10, __DS0SecondaryCount)\r\n\r\n\tVAR __DS0TargetPrimaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0InitTargetPrimaryCount < __DS0MinPrimaryCount,\r\n\t\t\t__DS0MinPrimaryCount,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0InitTargetSecondaryCount < __DS0MinSecondaryCount,\r\n\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0MinSecondaryCount), 1),\r\n\t\t\t\t__DS0InitTargetPrimaryCount\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0TargetSecondaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0InitTargetPrimaryCount < __DS0MinPrimaryCount,\r\n\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0MinPrimaryCount), 1),\r\n\t\t\tIF(\r\n\t\t\t\t__DS0InitTargetSecondaryCount < __DS0MinSecondaryCount,\r\n\t\t\t\t__DS0MinSecondaryCount,\r\n\t\t\t\t__DS0InitTargetSecondaryCount\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0Primary = \r\n\t\tSAMPLE(__DS0TargetPrimaryCount + 2, __DS0PrimaryBase, 'DimDate'[Year], 1)\r\n\r\n\tVAR __DS0Secondary = \r\n\t\tTOPN(__DS0TargetSecondaryCount + 1, __DS0SecondaryBase, 'DimLocation'[LocID], 1)\r\n\r\n\tVAR __DS0BodyLimited = \r\n\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t__DS0Primary,\r\n\t\t\tSUBSTITUTEWITHINDEX(\r\n\t\t\t\t__DS0Core,\r\n\t\t\t\t\"ColumnIndex\",\r\n\t\t\t\t__DS0Secondary,\r\n\t\t\t\t'DimLocation'[LocID],\r\n\t\t\t\tASC\r\n\t\t\t)\r\n\t\t)\r\n\r\nEVALUATE\r\n\tROW(\r\n\t\t\"DS0IntersectionCount\", __DS0IntersectionCount,\r\n\t\t\"DS0PrimaryCount\", __DS0PrimaryCount,\r\n\t\t\"DS0TargetPrimaryCount\", __DS0TargetPrimaryCount,\r\n\t\t\"DS0SecondaryCount\", __DS0SecondaryCount,\r\n\t\t\"DS0TargetSecondaryCount\", __DS0TargetSecondaryCount\r\n\t)\r\n\r\nEVALUATE\r\n\t__DS0Secondary\r\n\r\nORDER BY\r\n\t'DimLocation'[LocID]\r\n\r\nEVALUATE\r\n\t__DS0BodyLimited\r\n\r\nORDER BY\r\n\t'DimDate'[Year], [ColumnIndex]","RowCount":20}},{"name":"Execute Query","component":"AS","start":"2025-07-05T10:55:19.037Z","end":"2025-07-05T10:55:19.053Z","id":"40ED40B2-201F-406C-92DC-ED9BF7B2BAD8","parentId":"bfc2af93-beb6-4067-879d-a1eab84d0a6a"},{"name":"Serialize Rowset","component":"AS","start":"2025-07-05T10:55:19.053Z","end":"2025-07-05T10:55:19.053Z","id":"98EF6228-C14A-45E0-B8E2-8BF5E5B4D584","parentId":"40ED40B2-201F-406C-92DC-ED9BF7B2BAD8"},{"name":"Visual Container Lifecycle","start":"2025-07-05T10:55:18.891Z","end":"2025-07-05T10:55:19.440Z","id":"b94ef693b47ce2cb015d-6ac00b705b5a076ea90a","metrics":{"status":1,"visualTitle":"Sum of Discount_Fee by Year and LocID","visualId":"b94ef693b47ce2cb015d","visualType":"ribbonChart","initialLoad":false}},{"name":"Resolve Parameters","start":"2025-07-05T10:55:18.892Z","end":"2025-07-05T10:55:18.920Z","id":"e99fb75f-07ef-40da-b84f-d965a909fe61","parentId":"b94ef693b47ce2cb015d-6ac00b705b5a076ea90a"},{"name":"Query","start":"2025-07-05T10:55:18.920Z","end":"2025-07-05T10:55:19.362Z","id":"fc85f70e-aea7-40a7-9dab-39baff878ed2","parentId":"b94ef693b47ce2cb015d-6ac00b705b5a076ea90a"},{"name":"Render","start":"2025-07-05T10:55:19.362Z","end":"2025-07-05T10:55:19.440Z","id":"5247a849-6ded-46c6-b8fb-dd5897f994cb","parentId":"b94ef693b47ce2cb015d-6ac00b705b5a076ea90a"},{"name":"Data View Transform","start":"2025-07-05T10:55:19.377Z","end":"2025-07-05T10:55:19.378Z","id":"d83093ae-0ee8-4b12-8449-b427dbc6f538","parentId":"5247a849-6ded-46c6-b8fb-dd5897f994cb"},{"name":"Visual Update Async","start":"2025-07-05T10:55:19.378Z","end":"2025-07-05T10:55:19.438Z","id":"c8bcef4e-6d4f-49a0-8712-d77b7745576d","parentId":"5247a849-6ded-46c6-b8fb-dd5897f994cb"},{"name":"Visual Update","start":"2025-07-05T10:55:19.378Z","end":"2025-07-05T10:55:19.378Z","id":"5100c848-a8c6-4206-9af0-8704738db27d","parentId":"5247a849-6ded-46c6-b8fb-dd5897f994cb"},{"name":"Execute Semantic Query","component":"DSE","start":"2025-07-05T10:55:19.060Z","end":"2025-07-05T10:55:19.083Z","id":"8c752cf3-7860-4635-ab10-3780a29df581","parentId":"fc85f70e-aea7-40a7-9dab-39baff878ed2"},{"name":"Query Generation","start":"2025-07-05T10:55:18.941Z","end":"2025-07-05T10:55:18.943Z","id":"33f7d0ec-39ec-40f9-a7f3-8103508c7940","parentId":"fc85f70e-aea7-40a7-9dab-39baff878ed2"},{"name":"Query Pending","start":"2025-07-05T10:55:19.023Z","end":"2025-07-05T10:55:19.026Z","id":"b3e02ce9-77ee-4675-86fd-7dee67ccfd9e","parentId":"fc85f70e-aea7-40a7-9dab-39baff878ed2"},{"name":"Parse Query Result","start":"2025-07-05T10:55:19.361Z","end":"2025-07-05T10:55:19.361Z","id":"91b49801-b8b9-43e1-99fb-83d88e690e4f","parentId":"fc85f70e-aea7-40a7-9dab-39baff878ed2"},{"name":"Execute DAX Query","component":"DSE","start":"2025-07-05T10:55:19.068Z","end":"2025-07-05T10:55:19.083Z","id":"9025e037-97e8-4292-b958-378c179333ad","parentId":"8c752cf3-7860-4635-ab10-3780a29df581","metrics":{"QueryText":"DEFINE\r\n\tVAR __DS0FilterTable = \r\n\t\tFILTER(KEEPFILTERS(VALUES('Peryear'[Peryear])), 'Peryear'[Peryear] = 2017)\r\n\r\n\tVAR __DS0Core = \r\n\t\tSUMMARIZECOLUMNS(\r\n\t\t\t'DimDate'[Year],\r\n\t\t\t'DimLocation'[LocID],\r\n\t\t\t__DS0FilterTable,\r\n\t\t\t\"SumDiscount_Fee\", CALCULATE(SUM('FactPayments'[Discount_Fee]))\r\n\t\t)\r\n\r\n\tVAR __DS0PrimaryBase = \r\n\t\tSUMMARIZE(__DS0Core, 'DimDate'[Year])\r\n\r\n\tVAR __DS0SecondaryBase = \r\n\t\tSUMMARIZE(__DS0Core, 'DimLocation'[LocID])\r\n\r\n\tVAR __DS0IntersectionCount = CALCULATE(COUNTROWS(__DS0Core))\r\n\r\n\tVAR __DS0PrimaryCount = CALCULATE(COUNTROWS(__DS0PrimaryBase))\r\n\r\n\tVAR __DS0SecondaryCount = CALCULATE(COUNTROWS(__DS0SecondaryBase))\r\n\r\n\tVAR __DS0SpaceCount = (__DS0PrimaryCount * __DS0SecondaryCount)\r\n\r\n\tVAR __DS0SparseFactor = MIN(5, DIVIDE(__DS0SpaceCount, __DS0IntersectionCount))\r\n\r\n\tVAR __DS0TargetIntersectionCount = CEILING(3500 * __DS0SparseFactor, 1)\r\n\r\n\tVAR __DS0InitTargetPrimaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0IntersectionCount <= 3500,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0SpaceCount <= __DS0TargetIntersectionCount,\r\n\t\t\t\t3500,\r\n\t\t\t\tFLOOR(\r\n\t\t\t\t\tSQRT(__DS0TargetIntersectionCount * DIVIDE(__DS0PrimaryCount, __DS0SecondaryCount)),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tIF(\r\n\t\t\t\tAND(__DS0PrimaryCount > 800, __DS0SecondaryCount > 60),\r\n\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, 60), 1),\r\n\t\t\t\tIF(\r\n\t\t\t\t\t__DS0SecondaryCount > 60,\r\n\t\t\t\t\t__DS0PrimaryCount,\r\n\t\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0SecondaryCount), 1)\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0InitTargetSecondaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0IntersectionCount <= 3500,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0SpaceCount <= __DS0TargetIntersectionCount,\r\n\t\t\t\t3500,\r\n\t\t\t\tFLOOR(\r\n\t\t\t\t\tDIVIDE(__DS0TargetIntersectionCount, FLOOR(\r\n\t\t\t\t\t\tSQRT(__DS0TargetIntersectionCount * DIVIDE(__DS0PrimaryCount, __DS0SecondaryCount)),\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t)),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tIF(\r\n\t\t\t\tAND(__DS0PrimaryCount > 800, __DS0SecondaryCount > 60),\r\n\t\t\t\t60,\r\n\t\t\t\tIF(\r\n\t\t\t\t\t__DS0SecondaryCount > 60,\r\n\t\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0PrimaryCount), 1),\r\n\t\t\t\t\t__DS0SecondaryCount\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0MinPrimaryCount = MIN(10, __DS0PrimaryCount)\r\n\r\n\tVAR __DS0MinSecondaryCount = MIN(10, __DS0SecondaryCount)\r\n\r\n\tVAR __DS0TargetPrimaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0InitTargetPrimaryCount < __DS0MinPrimaryCount,\r\n\t\t\t__DS0MinPrimaryCount,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0InitTargetSecondaryCount < __DS0MinSecondaryCount,\r\n\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0MinSecondaryCount), 1),\r\n\t\t\t\t__DS0InitTargetPrimaryCount\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0TargetSecondaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0InitTargetPrimaryCount < __DS0MinPrimaryCount,\r\n\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0MinPrimaryCount), 1),\r\n\t\t\tIF(\r\n\t\t\t\t__DS0InitTargetSecondaryCount < __DS0MinSecondaryCount,\r\n\t\t\t\t__DS0MinSecondaryCount,\r\n\t\t\t\t__DS0InitTargetSecondaryCount\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0Primary = \r\n\t\tSAMPLE(__DS0TargetPrimaryCount + 2, __DS0PrimaryBase, 'DimDate'[Year], 1)\r\n\r\n\tVAR __DS0Secondary = \r\n\t\tTOPN(__DS0TargetSecondaryCount + 1, __DS0SecondaryBase, 'DimLocation'[LocID], 1)\r\n\r\n\tVAR __DS0BodyLimited = \r\n\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t__DS0Primary,\r\n\t\t\tSUBSTITUTEWITHINDEX(\r\n\t\t\t\t__DS0Core,\r\n\t\t\t\t\"ColumnIndex\",\r\n\t\t\t\t__DS0Secondary,\r\n\t\t\t\t'DimLocation'[LocID],\r\n\t\t\t\tASC\r\n\t\t\t)\r\n\t\t)\r\n\r\nEVALUATE\r\n\tROW(\r\n\t\t\"DS0IntersectionCount\", __DS0IntersectionCount,\r\n\t\t\"DS0PrimaryCount\", __DS0PrimaryCount,\r\n\t\t\"DS0TargetPrimaryCount\", __DS0TargetPrimaryCount,\r\n\t\t\"DS0SecondaryCount\", __DS0SecondaryCount,\r\n\t\t\"DS0TargetSecondaryCount\", __DS0TargetSecondaryCount\r\n\t)\r\n\r\nEVALUATE\r\n\t__DS0Secondary\r\n\r\nORDER BY\r\n\t'DimLocation'[LocID]\r\n\r\nEVALUATE\r\n\t__DS0BodyLimited\r\n\r\nORDER BY\r\n\t'DimDate'[Year], [ColumnIndex]","RowCount":20}},{"name":"Execute Query","component":"AS","start":"2025-07-05T10:55:19.073Z","end":"2025-07-05T10:55:19.083Z","id":"69847B4F-0E25-4CE9-AA94-65DAC7DFB117","parentId":"9025e037-97e8-4292-b958-378c179333ad"},{"name":"Serialize Rowset","component":"AS","start":"2025-07-05T10:55:19.083Z","end":"2025-07-05T10:55:19.083Z","id":"779CF9A2-5484-4A7C-BEE2-074F6E356EA1","parentId":"69847B4F-0E25-4CE9-AA94-65DAC7DFB117"},{"name":"Visual Container Lifecycle","start":"2025-07-05T10:55:18.894Z","end":"2025-07-05T10:55:19.275Z","id":"32f8c73b258463e7ab1a-94bd5c7c0c224ead2e72","metrics":{"status":1,"visualTitle":"Sum of Discount_Fee and Sum of Actual_Fee by Year and LocID","visualId":"32f8c73b258463e7ab1a","visualType":"lineStackedColumnComboChart","initialLoad":false}},{"name":"Resolve Parameters","start":"2025-07-05T10:55:18.895Z","end":"2025-07-05T10:55:18.920Z","id":"3cf173a6-1da6-42d4-b3ad-f64b8bf166b6","parentId":"32f8c73b258463e7ab1a-94bd5c7c0c224ead2e72"},{"name":"Query","start":"2025-07-05T10:55:18.920Z","end":"2025-07-05T10:55:19.153Z","id":"36c30335-2929-48bb-86d5-022bbdbe5ee4","parentId":"32f8c73b258463e7ab1a-94bd5c7c0c224ead2e72"},{"name":"Render","start":"2025-07-05T10:55:19.152Z","end":"2025-07-05T10:55:19.275Z","id":"b748dd9c-d67e-4cc7-af0b-96c5453b95e5","parentId":"32f8c73b258463e7ab1a-94bd5c7c0c224ead2e72"},{"name":"Data View Transform","start":"2025-07-05T10:55:19.177Z","end":"2025-07-05T10:55:19.179Z","id":"a2a2a97e-47e9-40b3-82d6-ef9278f8f2ab","parentId":"b748dd9c-d67e-4cc7-af0b-96c5453b95e5"},{"name":"Visual Update Async","start":"2025-07-05T10:55:19.180Z","end":"2025-07-05T10:55:19.273Z","id":"437d683c-8003-4db4-9215-5c6a895be91f","parentId":"b748dd9c-d67e-4cc7-af0b-96c5453b95e5"},{"name":"Visual Update","start":"2025-07-05T10:55:19.180Z","end":"2025-07-05T10:55:19.180Z","id":"adfadfc1-2856-4b42-963b-dee1b85f04b5","parentId":"b748dd9c-d67e-4cc7-af0b-96c5453b95e5"},{"name":"Execute Semantic Query","component":"DSE","start":"2025-07-05T10:55:19.026Z","end":"2025-07-05T10:55:19.060Z","id":"28835ff2-45f3-478b-ac67-4df6cb4e5859","parentId":"36c30335-2929-48bb-86d5-022bbdbe5ee4"},{"name":"Query Generation","start":"2025-07-05T10:55:18.943Z","end":"2025-07-05T10:55:18.945Z","id":"89d3d9ec-4ca9-43bf-828e-9174a8d905ef","parentId":"36c30335-2929-48bb-86d5-022bbdbe5ee4"},{"name":"Query Pending","start":"2025-07-05T10:55:19.023Z","end":"2025-07-05T10:55:19.025Z","id":"d6d1c099-f1f9-4d94-b1b2-5e2a0e4f665d","parentId":"36c30335-2929-48bb-86d5-022bbdbe5ee4"},{"name":"Parse Query Result","start":"2025-07-05T10:55:19.151Z","end":"2025-07-05T10:55:19.151Z","id":"d2a3e5eb-dc30-4790-a7e4-d51b1feaa8ca","parentId":"36c30335-2929-48bb-86d5-022bbdbe5ee4"},{"name":"Execute DAX Query","component":"DSE","start":"2025-07-05T10:55:19.030Z","end":"2025-07-05T10:55:19.056Z","id":"3961159a-66c9-45bc-81c3-b79e3dff4d57","parentId":"28835ff2-45f3-478b-ac67-4df6cb4e5859","metrics":{"QueryText":"DEFINE\r\n\tVAR __DS0FilterTable = \r\n\t\tFILTER(KEEPFILTERS(VALUES('Peryear'[Peryear])), 'Peryear'[Peryear] = 2017)\r\n\r\n\tVAR __ScopedCoreI0 = \r\n\t\tSUMMARIZECOLUMNS(\r\n\t\t\t'DimDate'[Year],\r\n\t\t\t'DimLocation'[LocID],\r\n\t\t\t__DS0FilterTable,\r\n\t\t\t\"SumDiscount_Fee\", CALCULATE(SUM('FactPayments'[Discount_Fee]))\r\n\t\t)\r\n\r\n\tVAR __ScopedCoreDM0 = \r\n\t\tSUMMARIZECOLUMNS(\r\n\t\t\t'DimDate'[Year],\r\n\t\t\t__DS0FilterTable,\r\n\t\t\t\"SumActual_Fee\", CALCULATE(SUM('FactPayments'[Actual_Fee]))\r\n\t\t)\r\n\r\n\tVAR __DS0Core = \r\n\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t__ScopedCoreI0,\r\n\t\t\t__ScopedCoreDM0\r\n\t\t)\r\n\r\n\tVAR __DS0PrimaryBase = \r\n\t\tSUMMARIZE(__DS0Core, 'DimDate'[Year])\r\n\r\n\tVAR __DS0SecondaryBase = \r\n\t\tSUMMARIZE(__DS0Core, 'DimLocation'[LocID])\r\n\r\n\tVAR __DS0IntersectionCount = CALCULATE(COUNTROWS(__DS0Core))\r\n\r\n\tVAR __DS0PrimaryCount = CALCULATE(COUNTROWS(__DS0PrimaryBase))\r\n\r\n\tVAR __DS0SecondaryCount = CALCULATE(COUNTROWS(__DS0SecondaryBase))\r\n\r\n\tVAR __DS0SpaceCount = (__DS0PrimaryCount * __DS0SecondaryCount)\r\n\r\n\tVAR __DS0SparseFactor = MIN(5, DIVIDE(__DS0SpaceCount, __DS0IntersectionCount))\r\n\r\n\tVAR __DS0TargetIntersectionCount = CEILING(3500 * __DS0SparseFactor, 1)\r\n\r\n\tVAR __DS0InitTargetPrimaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0IntersectionCount <= 3500,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0SpaceCount <= __DS0TargetIntersectionCount,\r\n\t\t\t\t3500,\r\n\t\t\t\tFLOOR(\r\n\t\t\t\t\tSQRT(__DS0TargetIntersectionCount * DIVIDE(__DS0PrimaryCount, __DS0SecondaryCount)),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tIF(\r\n\t\t\t\tAND(__DS0PrimaryCount > 800, __DS0SecondaryCount > 60),\r\n\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, 60), 1),\r\n\t\t\t\tIF(\r\n\t\t\t\t\t__DS0SecondaryCount > 60,\r\n\t\t\t\t\t__DS0PrimaryCount,\r\n\t\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0SecondaryCount), 1)\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0InitTargetSecondaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0IntersectionCount <= 3500,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0SpaceCount <= __DS0TargetIntersectionCount,\r\n\t\t\t\t3500,\r\n\t\t\t\tFLOOR(\r\n\t\t\t\t\tDIVIDE(__DS0TargetIntersectionCount, FLOOR(\r\n\t\t\t\t\t\tSQRT(__DS0TargetIntersectionCount * DIVIDE(__DS0PrimaryCount, __DS0SecondaryCount)),\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t)),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tIF(\r\n\t\t\t\tAND(__DS0PrimaryCount > 800, __DS0SecondaryCount > 60),\r\n\t\t\t\t60,\r\n\t\t\t\tIF(\r\n\t\t\t\t\t__DS0SecondaryCount > 60,\r\n\t\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0PrimaryCount), 1),\r\n\t\t\t\t\t__DS0SecondaryCount\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0MinPrimaryCount = MIN(10, __DS0PrimaryCount)\r\n\r\n\tVAR __DS0MinSecondaryCount = MIN(10, __DS0SecondaryCount)\r\n\r\n\tVAR __DS0TargetPrimaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0InitTargetPrimaryCount < __DS0MinPrimaryCount,\r\n\t\t\t__DS0MinPrimaryCount,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0InitTargetSecondaryCount < __DS0MinSecondaryCount,\r\n\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0MinSecondaryCount), 1),\r\n\t\t\t\t__DS0InitTargetPrimaryCount\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0TargetSecondaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0InitTargetPrimaryCount < __DS0MinPrimaryCount,\r\n\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0MinPrimaryCount), 1),\r\n\t\t\tIF(\r\n\t\t\t\t__DS0InitTargetSecondaryCount < __DS0MinSecondaryCount,\r\n\t\t\t\t__DS0MinSecondaryCount,\r\n\t\t\t\t__DS0InitTargetSecondaryCount\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0Primary = \r\n\t\tSAMPLE(__DS0TargetPrimaryCount + 2, __DS0PrimaryBase, 'DimDate'[Year], 1)\r\n\r\n\tVAR __DS0Secondary = \r\n\t\tTOPN(__DS0TargetSecondaryCount + 1, __DS0SecondaryBase, 'DimLocation'[LocID], 1)\r\n\r\n\tVAR __DS0BodyLimited = \r\n\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t__DS0Primary,\r\n\t\t\tSUBSTITUTEWITHINDEX(\r\n\t\t\t\t__DS0Core,\r\n\t\t\t\t\"ColumnIndex\",\r\n\t\t\t\t__DS0Secondary,\r\n\t\t\t\t'DimLocation'[LocID],\r\n\t\t\t\tASC\r\n\t\t\t)\r\n\t\t)\r\n\r\nEVALUATE\r\n\tROW(\r\n\t\t\"DS0IntersectionCount\", __DS0IntersectionCount,\r\n\t\t\"DS0PrimaryCount\", __DS0PrimaryCount,\r\n\t\t\"DS0TargetPrimaryCount\", __DS0TargetPrimaryCount,\r\n\t\t\"DS0SecondaryCount\", __DS0SecondaryCount,\r\n\t\t\"DS0TargetSecondaryCount\", __DS0TargetSecondaryCount\r\n\t)\r\n\r\nEVALUATE\r\n\t__DS0Secondary\r\n\r\nORDER BY\r\n\t'DimLocation'[LocID]\r\n\r\nEVALUATE\r\n\t__DS0BodyLimited\r\n\r\nORDER BY\r\n\t'DimDate'[Year], [ColumnIndex]","RowCount":20}},{"name":"Execute Query","component":"AS","start":"2025-07-05T10:55:19.037Z","end":"2025-07-05T10:55:19.053Z","id":"111DA52B-A4B6-4A01-92B4-9A98BBBEBB3F","parentId":"3961159a-66c9-45bc-81c3-b79e3dff4d57"},{"name":"Serialize Rowset","component":"AS","start":"2025-07-05T10:55:19.053Z","end":"2025-07-05T10:55:19.053Z","id":"8F5DCBF5-31AB-41DF-988A-A0757BEC61B7","parentId":"111DA52B-A4B6-4A01-92B4-9A98BBBEBB3F"},{"name":"Visual Container Lifecycle","start":"2025-07-05T10:55:18.897Z","end":"2025-07-05T10:55:19.271Z","id":"5a7439be055a4c3d55dd-5f2623dc0cee3310e20e","metrics":{"status":1,"visualTitle":"Slicer","visualId":"5a7439be055a4c3d55dd","visualType":"slicer","initialLoad":false}},{"name":"Resolve Parameters","start":"2025-07-05T10:55:18.898Z","end":"2025-07-05T10:55:18.920Z","id":"6b26cc5e-e870-4273-9ce6-fa1848f958ca","parentId":"5a7439be055a4c3d55dd-5f2623dc0cee3310e20e"},{"name":"Query","start":"2025-07-05T10:55:18.920Z","end":"2025-07-05T10:55:19.158Z","id":"6c3c71b5-7cc3-4c25-a405-35ea26d011ff","parentId":"5a7439be055a4c3d55dd-5f2623dc0cee3310e20e"},{"name":"Render","start":"2025-07-05T10:55:19.158Z","end":"2025-07-05T10:55:19.271Z","id":"10054e0d-0eb1-47e5-bb63-b1fd1f6699dd","parentId":"5a7439be055a4c3d55dd-5f2623dc0cee3310e20e"},{"name":"Data View Transform","start":"2025-07-05T10:55:19.180Z","end":"2025-07-05T10:55:19.182Z","id":"614db0ba-496b-4c11-9030-94394735d072","parentId":"10054e0d-0eb1-47e5-bb63-b1fd1f6699dd"},{"name":"Visual Update Async","start":"2025-07-05T10:55:19.182Z","end":"2025-07-05T10:55:19.271Z","id":"8907f307-6ac0-4b1f-b1b8-8c8e5735dd5c","parentId":"10054e0d-0eb1-47e5-bb63-b1fd1f6699dd"},{"name":"Visual Update","start":"2025-07-05T10:55:19.182Z","end":"2025-07-05T10:55:19.182Z","id":"6715b522-c48a-4897-999c-765dda31e084","parentId":"10054e0d-0eb1-47e5-bb63-b1fd1f6699dd"},{"name":"Execute Semantic Query","component":"DSE","start":"2025-07-05T10:55:19.056Z","end":"2025-07-05T10:55:19.068Z","id":"4f855f22-22a5-4324-b674-02412bde2481","parentId":"6c3c71b5-7cc3-4c25-a405-35ea26d011ff"},{"name":"Query Generation","start":"2025-07-05T10:55:18.945Z","end":"2025-07-05T10:55:18.946Z","id":"b010f267-02e3-4cc2-873e-b8c4ca9cf6ad","parentId":"6c3c71b5-7cc3-4c25-a405-35ea26d011ff"},{"name":"Query Pending","start":"2025-07-05T10:55:19.023Z","end":"2025-07-05T10:55:19.026Z","id":"5cd90099-39a1-4a4a-bb45-ef1a881854cb","parentId":"6c3c71b5-7cc3-4c25-a405-35ea26d011ff"},{"name":"Parse Query Result","start":"2025-07-05T10:55:19.156Z","end":"2025-07-05T10:55:19.157Z","id":"c06b0d6a-6a7f-49cd-bbf4-ae5e172205b4","parentId":"6c3c71b5-7cc3-4c25-a405-35ea26d011ff"},{"name":"Execute DAX Query","component":"DSE","start":"2025-07-05T10:55:19.060Z","end":"2025-07-05T10:55:19.064Z","id":"5c5632e1-1de6-4a2b-a717-214d12d0bfb1","parentId":"4f855f22-22a5-4324-b674-02412bde2481","metrics":{"QueryText":"DEFINE\r\n\tVAR __DS0Core = \r\n\t\tVALUES('Peryear'[Peryear])\r\n\r\n\tVAR __DS0BodyLimited = \r\n\t\tSAMPLE(1002, __DS0Core, 'Peryear'[Peryear], 1)\r\n\r\nEVALUATE\r\n\t__DS0BodyLimited\r\n\r\nORDER BY\r\n\t'Peryear'[Peryear]","RowCount":5}},{"name":"Execute Query","component":"AS","start":"2025-07-05T10:55:19.063Z","end":"2025-07-05T10:55:19.063Z","id":"48088275-21E6-4BEC-83C7-578AD69275D0","parentId":"5c5632e1-1de6-4a2b-a717-214d12d0bfb1"},{"name":"Serialize Rowset","component":"AS","start":"2025-07-05T10:55:19.063Z","end":"2025-07-05T10:55:19.063Z","id":"EE7165EF-A0E2-435A-8F4A-C7C6A0A88DC8","parentId":"48088275-21E6-4BEC-83C7-578AD69275D0"},{"name":"Visual Container Lifecycle","start":"2025-07-05T10:55:18.899Z","end":"2025-07-05T10:55:19.085Z","id":"250fb986db6c04de413b-6c9304349d02d8021d90","metrics":{"status":1,"visualTitle":"Card","visualId":"250fb986db6c04de413b","visualType":"card","initialLoad":false}},{"name":"Resolve Parameters","start":"2025-07-05T10:55:18.900Z","end":"2025-07-05T10:55:18.921Z","id":"8364942d-285b-4341-9236-c77239d3c732","parentId":"250fb986db6c04de413b-6c9304349d02d8021d90"},{"name":"Query","start":"2025-07-05T10:55:18.921Z","end":"2025-07-05T10:55:19.069Z","id":"8d492a7d-1e6e-4739-a6fc-b6c12e4b898a","parentId":"250fb986db6c04de413b-6c9304349d02d8021d90"},{"name":"Render","start":"2025-07-05T10:55:19.068Z","end":"2025-07-05T10:55:19.084Z","id":"eec1a138-2ee5-4db9-8dbe-db9bdb0c1941","parentId":"250fb986db6c04de413b-6c9304349d02d8021d90"},{"name":"Data View Transform","start":"2025-07-05T10:55:19.081Z","end":"2025-07-05T10:55:19.082Z","id":"5fda5216-8f83-4434-bcb3-edb5a1181e5d","parentId":"eec1a138-2ee5-4db9-8dbe-db9bdb0c1941"},{"name":"Execute Semantic Query","component":"DSE","start":"2025-07-05T10:55:19.026Z","end":"2025-07-05T10:55:19.044Z","id":"e9b018f1-ff44-4f42-bb41-9639d1ba7424","parentId":"8d492a7d-1e6e-4739-a6fc-b6c12e4b898a"},{"name":"Query Generation","start":"2025-07-05T10:55:18.946Z","end":"2025-07-05T10:55:18.947Z","id":"aeb958fe-2a40-4f62-8a83-5a0c406b2dcf","parentId":"8d492a7d-1e6e-4739-a6fc-b6c12e4b898a"},{"name":"Query Pending","start":"2025-07-05T10:55:19.024Z","end":"2025-07-05T10:55:19.025Z","id":"9be065fa-363d-4507-b635-8730b294c772","parentId":"8d492a7d-1e6e-4739-a6fc-b6c12e4b898a"},{"name":"Parse Query Result","start":"2025-07-05T10:55:19.067Z","end":"2025-07-05T10:55:19.068Z","id":"b577cc9e-5e1a-484a-b480-2ba6a0815713","parentId":"8d492a7d-1e6e-4739-a6fc-b6c12e4b898a"},{"name":"Execute DAX Query","component":"DSE","start":"2025-07-05T10:55:19.028Z","end":"2025-07-05T10:55:19.044Z","id":"967723e0-0ff7-4c1f-bae1-09d46d633b92","parentId":"e9b018f1-ff44-4f42-bb41-9639d1ba7424","metrics":{"QueryText":"DEFINE VAR __DS0FilterTable = \r\n\tFILTER(KEEPFILTERS(VALUES('Peryear'[Peryear])), 'Peryear'[Peryear] = 2017)\r\n\r\nEVALUATE\r\n\tSUMMARIZECOLUMNS(__DS0FilterTable, \"DF_Year\", IGNORE('Dax Measures'[DF Year]))","RowCount":1}},{"name":"Execute Query","component":"AS","start":"2025-07-05T10:55:19.037Z","end":"2025-07-05T10:55:19.043Z","id":"8F4EE52D-D8D3-4A7B-8968-571C28A42E84","parentId":"967723e0-0ff7-4c1f-bae1-09d46d633b92"},{"name":"Serialize Rowset","component":"AS","start":"2025-07-05T10:55:19.043Z","end":"2025-07-05T10:55:19.043Z","id":"98782C89-BCCF-456E-AB1C-6D67BA5A6B3C","parentId":"8F4EE52D-D8D3-4A7B-8968-571C28A42E84"},{"name":"Visual Container Lifecycle","start":"2025-07-05T10:55:18.949Z","end":"2025-07-05T10:55:19.438Z","id":"9be7052ab74035a6bce9-9f4b04744cb66a2592c0","metrics":{"status":1,"visualTitle":"Sum of Discount_Fee, Sum of Actual_Fee and Sum of Tax amount by CourseID, ModeID and LocID","visualId":"9be7052ab74035a6bce9","visualType":"scatterChart","initialLoad":false}},{"name":"Resolve Parameters","start":"2025-07-05T10:55:18.950Z","end":"2025-07-05T10:55:18.967Z","id":"206cb174-87c0-4f95-bb9e-847b2767fcef","parentId":"9be7052ab74035a6bce9-9f4b04744cb66a2592c0"},{"name":"Query","start":"2025-07-05T10:55:18.967Z","end":"2025-07-05T10:55:19.359Z","id":"25be824b-eacf-41b7-90ad-ff0534a983b3","parentId":"9be7052ab74035a6bce9-9f4b04744cb66a2592c0"},{"name":"Render","start":"2025-07-05T10:55:19.358Z","end":"2025-07-05T10:55:19.438Z","id":"024d3a0b-3a5a-4e7f-ab14-6f1f2502f034","parentId":"9be7052ab74035a6bce9-9f4b04744cb66a2592c0"},{"name":"Data View Transform","start":"2025-07-05T10:55:19.372Z","end":"2025-07-05T10:55:19.375Z","id":"7824fc1f-0931-4b8f-acb4-3ad930563320","parentId":"024d3a0b-3a5a-4e7f-ab14-6f1f2502f034"},{"name":"Visual Update Async","start":"2025-07-05T10:55:19.375Z","end":"2025-07-05T10:55:19.438Z","id":"f804d9d4-832b-4867-849d-6001a69e1483","parentId":"024d3a0b-3a5a-4e7f-ab14-6f1f2502f034"},{"name":"Visual Update","start":"2025-07-05T10:55:19.375Z","end":"2025-07-05T10:55:19.375Z","id":"9fed182e-f258-4b25-bbed-9bb791729f82","parentId":"024d3a0b-3a5a-4e7f-ab14-6f1f2502f034"},{"name":"Execute Semantic Query","component":"DSE","start":"2025-07-05T10:55:19.042Z","end":"2025-07-05T10:55:19.083Z","id":"45a30186-fb80-4f95-af9c-563385ec209e","parentId":"25be824b-eacf-41b7-90ad-ff0534a983b3"},{"name":"Query Generation","start":"2025-07-05T10:55:18.969Z","end":"2025-07-05T10:55:18.971Z","id":"33934993-94d7-4440-8b6d-fcb72b1b9e9f","parentId":"25be824b-eacf-41b7-90ad-ff0534a983b3"},{"name":"Query Pending","start":"2025-07-05T10:55:19.024Z","end":"2025-07-05T10:55:19.025Z","id":"e111549b-6cfe-45db-b7e3-65cd3971fcd2","parentId":"25be824b-eacf-41b7-90ad-ff0534a983b3"},{"name":"Parse Query Result","start":"2025-07-05T10:55:19.353Z","end":"2025-07-05T10:55:19.357Z","id":"bc2b1071-8c69-47ef-a2a1-a7e6a7b247c5","parentId":"25be824b-eacf-41b7-90ad-ff0534a983b3"},{"name":"Execute DAX Query","component":"DSE","start":"2025-07-05T10:55:19.053Z","end":"2025-07-05T10:55:19.083Z","id":"48f6351e-0598-4375-8f3d-55fbbd5b71fd","parentId":"45a30186-fb80-4f95-af9c-563385ec209e","metrics":{"QueryText":"DEFINE\r\n\tVAR __DS0FilterTable = \r\n\t\tFILTER(KEEPFILTERS(VALUES('Peryear'[Peryear])), 'Peryear'[Peryear] = 2017)\r\n\r\n\tVAR __DS0Core = \r\n\t\tSUMMARIZECOLUMNS(\r\n\t\t\t'DimLocation'[LocID],\r\n\t\t\t'DimCourse'[CourseID],\r\n\t\t\t'DimCourseMode'[ModeID],\r\n\t\t\t__DS0FilterTable,\r\n\t\t\t\"SumDiscount_Fee\", CALCULATE(SUM('FactPayments'[Discount_Fee])),\r\n\t\t\t\"SumActual_Fee\", CALCULATE(SUM('FactPayments'[Actual_Fee])),\r\n\t\t\t\"SumTax_amount\", CALCULATE(SUM('FactPayments'[Tax amount]))\r\n\t\t)\r\n\r\n\tVAR __DS0PrimaryBase = \r\n\t\tSUMMARIZE(__DS0Core, 'DimLocation'[LocID], 'DimCourse'[CourseID])\r\n\r\n\tVAR __DS0SecondaryBase = \r\n\t\tSUMMARIZE(__DS0Core, 'DimCourseMode'[ModeID])\r\n\r\n\tVAR __DS0IntersectionCount = CALCULATE(COUNTROWS(__DS0Core))\r\n\r\n\tVAR __DS0PrimaryCount = CALCULATE(COUNTROWS(__DS0PrimaryBase))\r\n\r\n\tVAR __DS0SecondaryCount = CALCULATE(COUNTROWS(__DS0SecondaryBase))\r\n\r\n\tVAR __DS0SpaceCount = (__DS0PrimaryCount * __DS0SecondaryCount)\r\n\r\n\tVAR __DS0SparseFactor = MIN(5, DIVIDE(__DS0SpaceCount, __DS0IntersectionCount))\r\n\r\n\tVAR __DS0TargetIntersectionCount = CEILING(30000 * __DS0SparseFactor, 1)\r\n\r\n\tVAR __DS0InitTargetPrimaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0IntersectionCount <= 30000,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0SpaceCount <= __DS0TargetIntersectionCount,\r\n\t\t\t\t30000,\r\n\t\t\t\tFLOOR(\r\n\t\t\t\t\tSQRT(__DS0TargetIntersectionCount * DIVIDE(__DS0PrimaryCount, __DS0SecondaryCount)),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tIF(\r\n\t\t\t\tAND(__DS0PrimaryCount > 1000, __DS0SecondaryCount > 60),\r\n\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, 60), 1),\r\n\t\t\t\tIF(\r\n\t\t\t\t\t__DS0SecondaryCount > 60,\r\n\t\t\t\t\t__DS0PrimaryCount,\r\n\t\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0SecondaryCount), 1)\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0InitTargetSecondaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0IntersectionCount <= 30000,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0SpaceCount <= __DS0TargetIntersectionCount,\r\n\t\t\t\t30000,\r\n\t\t\t\tFLOOR(\r\n\t\t\t\t\tDIVIDE(__DS0TargetIntersectionCount, FLOOR(\r\n\t\t\t\t\t\tSQRT(__DS0TargetIntersectionCount * DIVIDE(__DS0PrimaryCount, __DS0SecondaryCount)),\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t)),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tIF(\r\n\t\t\t\tAND(__DS0PrimaryCount > 1000, __DS0SecondaryCount > 60),\r\n\t\t\t\t60,\r\n\t\t\t\tIF(\r\n\t\t\t\t\t__DS0SecondaryCount > 60,\r\n\t\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0PrimaryCount), 1),\r\n\t\t\t\t\t__DS0SecondaryCount\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0MinPrimaryCount = MIN(10, __DS0PrimaryCount)\r\n\r\n\tVAR __DS0MinSecondaryCount = MIN(10, __DS0SecondaryCount)\r\n\r\n\tVAR __DS0TargetPrimaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0InitTargetPrimaryCount < __DS0MinPrimaryCount,\r\n\t\t\t__DS0MinPrimaryCount,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0InitTargetSecondaryCount < __DS0MinSecondaryCount,\r\n\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0MinSecondaryCount), 1),\r\n\t\t\t\t__DS0InitTargetPrimaryCount\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0TargetSecondaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0InitTargetPrimaryCount < __DS0MinPrimaryCount,\r\n\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0MinPrimaryCount), 1),\r\n\t\t\tIF(\r\n\t\t\t\t__DS0InitTargetSecondaryCount < __DS0MinSecondaryCount,\r\n\t\t\t\t__DS0MinSecondaryCount,\r\n\t\t\t\t__DS0InitTargetSecondaryCount\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0Primary = \r\n\t\tTOPN(\r\n\t\t\t__DS0TargetPrimaryCount + 1,\r\n\t\t\t__DS0PrimaryBase,\r\n\t\t\t'DimLocation'[LocID],\r\n\t\t\t0,\r\n\t\t\t'DimCourse'[CourseID],\r\n\t\t\t0\r\n\t\t)\r\n\r\n\tVAR __DS0Secondary = \r\n\t\tTOPN(__DS0TargetSecondaryCount + 1, __DS0SecondaryBase, 'DimCourseMode'[ModeID], 1)\r\n\r\n\tVAR __DS0BodyLimited = \r\n\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t__DS0Primary,\r\n\t\t\tSUBSTITUTEWITHINDEX(\r\n\t\t\t\t__DS0Core,\r\n\t\t\t\t\"ColumnIndex\",\r\n\t\t\t\t__DS0Secondary,\r\n\t\t\t\t'DimCourseMode'[ModeID],\r\n\t\t\t\tASC\r\n\t\t\t)\r\n\t\t)\r\n\r\nEVALUATE\r\n\tROW(\r\n\t\t\"DS0IntersectionCount\", __DS0IntersectionCount,\r\n\t\t\"DS0PrimaryCount\", __DS0PrimaryCount,\r\n\t\t\"DS0TargetPrimaryCount\", __DS0TargetPrimaryCount,\r\n\t\t\"DS0SecondaryCount\", __DS0SecondaryCount,\r\n\t\t\"DS0TargetSecondaryCount\", __DS0TargetSecondaryCount\r\n\t)\r\n\r\nEVALUATE\r\n\t__DS0Secondary\r\n\r\nORDER BY\r\n\t'DimCourseMode'[ModeID]\r\n\r\nEVALUATE\r\n\t__DS0BodyLimited\r\n\r\nORDER BY\r\n\t'DimLocation'[LocID], 'DimCourse'[CourseID], [ColumnIndex]","RowCount":76}},{"name":"Execute Query","component":"AS","start":"2025-07-05T10:55:19.063Z","end":"2025-07-05T10:55:19.080Z","id":"E5B2400E-77DD-4A50-B5D6-5C9341311AF6","parentId":"48f6351e-0598-4375-8f3d-55fbbd5b71fd"},{"name":"Serialize Rowset","component":"AS","start":"2025-07-05T10:55:19.080Z","end":"2025-07-05T10:55:19.080Z","id":"097B3111-E8AD-4788-A528-137BB6F087E8","parentId":"E5B2400E-77DD-4A50-B5D6-5C9341311AF6"},{"name":"Visual Container Lifecycle","start":"2025-07-05T10:55:18.958Z","end":"2025-07-05T10:55:19.436Z","id":"60b0206b6a030a654260-dae4b8900db36190e629","metrics":{"status":1,"visualTitle":"Sum of Discount_Fee by Year and LocID","visualId":"60b0206b6a030a654260","visualType":"treemap","initialLoad":false}},{"name":"Resolve Parameters","start":"2025-07-05T10:55:18.959Z","end":"2025-07-05T10:55:18.968Z","id":"0d26518b-0c51-4538-b140-b82d29dc2e5f","parentId":"60b0206b6a030a654260-dae4b8900db36190e629"},{"name":"Query","start":"2025-07-05T10:55:18.968Z","end":"2025-07-05T10:55:19.365Z","id":"e6b0d4ae-51f0-4b29-bc31-5ea293eca9a7","parentId":"60b0206b6a030a654260-dae4b8900db36190e629"},{"name":"Render","start":"2025-07-05T10:55:19.365Z","end":"2025-07-05T10:55:19.436Z","id":"aa1b718f-5924-41f4-96f2-74d0e7a860d3","parentId":"60b0206b6a030a654260-dae4b8900db36190e629"},{"name":"Data View Transform","start":"2025-07-05T10:55:19.378Z","end":"2025-07-05T10:55:19.379Z","id":"4a761c3c-e035-4b91-b9f4-922ff2983a3a","parentId":"aa1b718f-5924-41f4-96f2-74d0e7a860d3"},{"name":"Visual Update Async","start":"2025-07-05T10:55:19.379Z","end":"2025-07-05T10:55:19.436Z","id":"be9c3f9b-7fa4-4bdb-bb7a-611be4b0ec4e","parentId":"aa1b718f-5924-41f4-96f2-74d0e7a860d3"},{"name":"Visual Update","start":"2025-07-05T10:55:19.379Z","end":"2025-07-05T10:55:19.379Z","id":"68f7144a-80f2-4e1b-af1e-f60194c03f43","parentId":"aa1b718f-5924-41f4-96f2-74d0e7a860d3"},{"name":"Execute Semantic Query","component":"DSE","start":"2025-07-05T10:55:19.060Z","end":"2025-07-05T10:55:19.090Z","id":"45b1fd20-d5dc-4bbf-8d1e-9d6421ea6337","parentId":"e6b0d4ae-51f0-4b29-bc31-5ea293eca9a7"},{"name":"Query Generation","start":"2025-07-05T10:55:18.971Z","end":"2025-07-05T10:55:18.972Z","id":"d497a863-55f6-47ab-bca1-b8f03acdc28e","parentId":"e6b0d4ae-51f0-4b29-bc31-5ea293eca9a7"},{"name":"Query Pending","start":"2025-07-05T10:55:19.024Z","end":"2025-07-05T10:55:19.026Z","id":"45693112-916a-4c53-bc7d-43cfdd3865cc","parentId":"e6b0d4ae-51f0-4b29-bc31-5ea293eca9a7"},{"name":"Parse Query Result","start":"2025-07-05T10:55:19.364Z","end":"2025-07-05T10:55:19.365Z","id":"bac502c8-c692-4077-ab52-c9b251ecd0c6","parentId":"e6b0d4ae-51f0-4b29-bc31-5ea293eca9a7"},{"name":"Execute DAX Query","component":"DSE","start":"2025-07-05T10:55:19.068Z","end":"2025-07-05T10:55:19.083Z","id":"d15dc24e-19cc-46f3-a25e-ff73e8de3b58","parentId":"45b1fd20-d5dc-4bbf-8d1e-9d6421ea6337","metrics":{"QueryText":"DEFINE\r\n\tVAR __DS0FilterTable = \r\n\t\tFILTER(KEEPFILTERS(VALUES('Peryear'[Peryear])), 'Peryear'[Peryear] = 2017)\r\n\r\n\tVAR __DS0Core = \r\n\t\tSUMMARIZECOLUMNS(\r\n\t\t\t'DimDate'[Year],\r\n\t\t\tROLLUPADDISSUBTOTAL('DimLocation'[LocID], \"IsGrandTotalColumnTotal\"),\r\n\t\t\t__DS0FilterTable,\r\n\t\t\t\"SumDiscount_Fee\", CALCULATE(SUM('FactPayments'[Discount_Fee]))\r\n\t\t)\r\n\r\n\tVAR __DS0CoreOnlyOutputTotals = \r\n\t\tSELECTCOLUMNS(\r\n\t\t\tKEEPFILTERS(FILTER(KEEPFILTERS(__DS0Core), [IsGrandTotalColumnTotal] = FALSE)),\r\n\t\t\t\"'DimDate'[Year]\", 'DimDate'[Year],\r\n\t\t\t\"'DimLocation'[LocID]\", 'DimLocation'[LocID],\r\n\t\t\t\"SumDiscount_Fee\", [SumDiscount_Fee]\r\n\t\t)\r\n\r\n\tVAR __DS0PrimaryBase = \r\n\t\tSUMMARIZE(__DS0Core, 'DimDate'[Year])\r\n\r\n\tVAR __DS0CoreTableByDM0 = \r\n\t\tSELECTCOLUMNS(\r\n\t\t\tKEEPFILTERS(FILTER(KEEPFILTERS(__DS0Core), [IsGrandTotalColumnTotal] = TRUE)),\r\n\t\t\t\"'DimDate'[Year]\", 'DimDate'[Year],\r\n\t\t\t\"SortBy_DM0_0\", [SumDiscount_Fee]\r\n\t\t)\r\n\r\n\tVAR __DS0PrimaryWithSortColumns = \r\n\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t__DS0PrimaryBase,\r\n\t\t\t__DS0CoreTableByDM0\r\n\t\t)\r\n\r\n\tVAR __DS0SecondaryBase = \r\n\t\tSUMMARIZE(__DS0CoreOnlyOutputTotals, 'DimLocation'[LocID])\r\n\r\n\tVAR __DS0IntersectionCount = CALCULATE(COUNTROWS(__DS0CoreOnlyOutputTotals))\r\n\r\n\tVAR __DS0PrimaryCount = CALCULATE(COUNTROWS(__DS0PrimaryWithSortColumns))\r\n\r\n\tVAR __DS0SecondaryCount = CALCULATE(COUNTROWS(__DS0SecondaryBase))\r\n\r\n\tVAR __DS0SpaceCount = (__DS0PrimaryCount * __DS0SecondaryCount)\r\n\r\n\tVAR __DS0SparseFactor = MIN(5, DIVIDE(__DS0SpaceCount, __DS0IntersectionCount))\r\n\r\n\tVAR __DS0TargetIntersectionCount = CEILING(1000 * __DS0SparseFactor, 1)\r\n\r\n\tVAR __DS0InitTargetPrimaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0IntersectionCount <= 1000,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0SpaceCount <= __DS0TargetIntersectionCount,\r\n\t\t\t\t1000,\r\n\t\t\t\tFLOOR(\r\n\t\t\t\t\tSQRT(__DS0TargetIntersectionCount * DIVIDE(__DS0PrimaryCount, __DS0SecondaryCount)),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tIF(\r\n\t\t\t\tAND(__DS0PrimaryCount > 500, __DS0SecondaryCount > 60),\r\n\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, 60), 1),\r\n\t\t\t\tIF(\r\n\t\t\t\t\t__DS0SecondaryCount > 60,\r\n\t\t\t\t\t__DS0PrimaryCount,\r\n\t\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0SecondaryCount), 1)\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0InitTargetSecondaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0IntersectionCount <= 1000,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0SpaceCount <= __DS0TargetIntersectionCount,\r\n\t\t\t\t1000,\r\n\t\t\t\tFLOOR(\r\n\t\t\t\t\tDIVIDE(__DS0TargetIntersectionCount, FLOOR(\r\n\t\t\t\t\t\tSQRT(__DS0TargetIntersectionCount * DIVIDE(__DS0PrimaryCount, __DS0SecondaryCount)),\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t)),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tIF(\r\n\t\t\t\tAND(__DS0PrimaryCount > 500, __DS0SecondaryCount > 60),\r\n\t\t\t\t60,\r\n\t\t\t\tIF(\r\n\t\t\t\t\t__DS0SecondaryCount > 60,\r\n\t\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0PrimaryCount), 1),\r\n\t\t\t\t\t__DS0SecondaryCount\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0MinPrimaryCount = MIN(10, __DS0PrimaryCount)\r\n\r\n\tVAR __DS0MinSecondaryCount = MIN(10, __DS0SecondaryCount)\r\n\r\n\tVAR __DS0TargetPrimaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0InitTargetPrimaryCount < __DS0MinPrimaryCount,\r\n\t\t\t__DS0MinPrimaryCount,\r\n\t\t\tIF(\r\n\t\t\t\t__DS0InitTargetSecondaryCount < __DS0MinSecondaryCount,\r\n\t\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0MinSecondaryCount), 1),\r\n\t\t\t\t__DS0InitTargetPrimaryCount\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0TargetSecondaryCount = \r\n\t\tIF(\r\n\t\t\t__DS0InitTargetPrimaryCount < __DS0MinPrimaryCount,\r\n\t\t\tCEILING(DIVIDE(__DS0TargetIntersectionCount, __DS0MinPrimaryCount), 1),\r\n\t\t\tIF(\r\n\t\t\t\t__DS0InitTargetSecondaryCount < __DS0MinSecondaryCount,\r\n\t\t\t\t__DS0MinSecondaryCount,\r\n\t\t\t\t__DS0InitTargetSecondaryCount\r\n\t\t\t)\r\n\t\t)\r\n\r\n\tVAR __DS0Primary = \r\n\t\tTOPN(\r\n\t\t\t__DS0TargetPrimaryCount + 1,\r\n\t\t\t__DS0PrimaryWithSortColumns,\r\n\t\t\t[SortBy_DM0_0],\r\n\t\t\t0,\r\n\t\t\t'DimDate'[Year],\r\n\t\t\t1\r\n\t\t)\r\n\r\n\tVAR __DS0Secondary = \r\n\t\tTOPN(__DS0TargetSecondaryCount + 1, __DS0SecondaryBase, 'DimLocation'[LocID], 1)\r\n\r\n\tVAR __DS0BodyLimited = \r\n\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t__DS0Primary,\r\n\t\t\tSUBSTITUTEWITHINDEX(\r\n\t\t\t\t__DS0CoreOnlyOutputTotals,\r\n\t\t\t\t\"ColumnIndex\",\r\n\t\t\t\t__DS0Secondary,\r\n\t\t\t\t'DimLocation'[LocID],\r\n\t\t\t\tASC\r\n\t\t\t)\r\n\t\t)\r\n\r\nEVALUATE\r\n\tROW(\r\n\t\t\"DS0IntersectionCount\", __DS0IntersectionCount,\r\n\t\t\"DS0PrimaryCount\", __DS0PrimaryCount,\r\n\t\t\"DS0TargetPrimaryCount\", __DS0TargetPrimaryCount,\r\n\t\t\"DS0SecondaryCount\", __DS0SecondaryCount,\r\n\t\t\"DS0TargetSecondaryCount\", __DS0TargetSecondaryCount\r\n\t)\r\n\r\nEVALUATE\r\n\t__DS0Secondary\r\n\r\nORDER BY\r\n\t'DimLocation'[LocID]\r\n\r\nEVALUATE\r\n\t__DS0BodyLimited\r\n\r\nORDER BY\r\n\t[SortBy_DM0_0] DESC, 'DimDate'[Year], [ColumnIndex]","RowCount":20}},{"name":"Execute Query","component":"AS","start":"2025-07-05T10:55:19.077Z","end":"2025-07-05T10:55:19.087Z","id":"378048F6-6244-4C33-B305-63B26348B5DC","parentId":"d15dc24e-19cc-46f3-a25e-ff73e8de3b58"},{"name":"Serialize Rowset","component":"AS","start":"2025-07-05T10:55:19.087Z","end":"2025-07-05T10:55:19.087Z","id":"81C205B7-F962-4C2D-B855-20A879528531","parentId":"378048F6-6244-4C33-B305-63B26348B5DC"}],"sessionId":"1dda0c70-534a-41b3-986c-ab7be4e8370e"}